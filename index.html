<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>EPSON FAQ</title>

<style>
body {
  font-family: -apple-system, BlinkMacSystemFont, sans-serif;
  margin: 0;
  padding: 16px;
}

input, button {
  width: 100%;
  padding: 14px;
  font-size: 16px;
  border-radius: 8px;
  border: 1px solid #ccc;
  margin-top: 8px;
}

button {
  background: #007aff;
  color: white;
  border: none;
}

.card {
  background: #f7f7f7;
  padding: 12px;
  border-radius: 8px;
  margin-top: 12px;
}

.q {
  font-weight: bold;
  margin-bottom: 6px;
}
</style>
</head>

<body>

<h3>EPSON ãƒ—ãƒªãƒ³ã‚¿ãƒ¼ FAQ</h3>

<input id="input" placeholder="ä¾‹ï¼šå°åˆ·ã§ããªã„" />
<button id="searchBtn">æ¤œç´¢</button>

<div id="list"></div>

<script>
const CSV_URL =
 "https://docs.google.com/spreadsheets/d/1sq7O054J_6oiP-fkfCP5VCBjlgrjLMT9aXSev1ne6UE/gviz/tq?tqx=out:csv";

let data = [];

// CSVèª­ã¿è¾¼ã¿
fetch(CSV_URL)
  .then(res => res.text())
  .then(text => {
    data = text
      .trim()
      .split("\n")
      .slice(1)
      .map(r => {
        const [question, answer, follow_up] = r.split("\t");
        return { question, answer, follow_up };
      });
  });

// æ¤œç´¢å‡¦ç†
document.getElementById("searchBtn").addEventListener("click", () => {
  const word = document.getElementById("input").value.trim();
  const list = document.getElementById("list");

  if (!word) {
    list.innerHTML = "";
    return;
  }

  const hits = data.filter(d =>
    d.question && d.question.includes(word)
  );

  list.innerHTML = hits.length
    ? hits.map(d => `
      <div class="card">
        <div class="q">Q. ${d.question}</div>
        <div>A. ${d.answer}</div>
        ${d.follow_up ? `<div style="margin-top:8px;color:#555;">ğŸ’¡ ${d.follow_up}</div>` : ""}
      </div>
    `).join("")
    : "<p>è©²å½“ã™ã‚‹FAQãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“ã§ã—ãŸã€‚</p>";
});
</script>

</body>
</html>

